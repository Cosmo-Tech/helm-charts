# SPDX-FileCopyrightText: Copyright (C) 2023-2025 Cosmo Tech
# SPDX-License-Identifier: LicenseRef-CosmoTech
nodeSelector:
  cosmotech.com/tier: services

tolerations:
  - key: vendor
    value: cosmotech
    effect: NoSchedule

serviceMonitor:
  enabled: true
  namespace: "cosmotech-monitoring"

persistence:
  storageClass: "azurefile-csi"

extraEnv:
  env:
    - name: CSM_MODELINGAPI_S3_USERNAME
      valueFrom:
        secretKeyRef:
          name: seaweedfs-eng-modapi-ci-s3-auth
          key: argo-workflows-username
    - name: CSM_MODELINGAPI_S3_PASSWORD
      valueFrom:
        secretKeyRef:
          name: seaweedfs-eng-modapi-ci-s3-auth
          key: argo-workflows-password

config:
  csm:
    modelingApi:
      argoWorkflows:
        host: http://argo-workflows-eng-modapi-ci-server.eng-modapi-ci.svc.cluster.local:2746
        namespace: eng-modapi-ci
        serviceAccountName: argo-workflows-eng-modapi-ci-service-account
      s3:
        host: http://seaweedfs-eng-modapi-ci-s3.eng-modapi-ci.svc.cluster.local:9000
        bucket: argo-workflows
      simulatorRegistry:
        host: acrengmodapiciuvpy1z.azurecr.io
