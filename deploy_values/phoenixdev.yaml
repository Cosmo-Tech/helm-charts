# SPDX-FileCopyrightText: Copyright (C) 2023-2025 Cosmo Tech
# SPDX-License-Identifier: LicenseRef-CosmoTech
nodeSelector:
  cosmotech.com/tier: services

tolerations:
  - key: vendor
    value: cosmotech
    effect: NoSchedule

serviceMonitor:
  enabled: true
  namespace: "cosmotech-monitoring"

persistence:
  storageClass: "azurefile-csi"

extraEnv:
  env:
    - name: CSM_MODELINGAPI_S3_USERNAME
      valueFrom:
        secretKeyRef:
          name: miniocsmv2
          key: root-user
    - name: CSM_MODELINGAPI_S3_PASSWORD
      valueFrom:
        secretKeyRef:
          name: miniocsmv2
          key: root-password

config:
  csm:
    modelingApi:
      argoWorkflows:
        host: http://argocsmv2-argo-workflows-server.phoenix.svc.cluster.local:2746
        namespace: phoenix
        serviceAccountName: workflowcsmv2
      loki:
        host: http://loki.phoenix.svc.cluster.local:3100
      s3:
        host: http://miniocsmv2.phoenix.svc.cluster.local:9000
        bucket: argo-workflows
      simulatorRegistry:
        host: csmenginesdev.azurecr.io
